Your ArgoCD pods are crashing because the CRDs (Custom Resource Definitions) for ArgoCD are NOT installed.

Your log clearly shows this:

argocd-server

the server could not find the requested resource (post appprojects.argoproj.io)

argocd-applicationset-controller

no matches for argoproj.io/v1alpha1, Resource=applicationsets

üëâ This means ArgoCD CRDs are missing:
	‚Ä¢	Application
	‚Ä¢	AppProject
	‚Ä¢	ApplicationSet
	‚Ä¢	Rollout (if using Argo Rollouts)

‚∏ª

‚úÖ Root Cause

You applied only the ArgoCD deployment manifests (argocd-cm, serviceaccount, roles, service, deployments).
BUT ArgoCD requires CRD definitions installed BEFORE deploying controllers.

These CRDs are normally installed by applying:

kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml

But since you used custom on-prem registry images & custom YAML, your CRD section is missing.

‚∏ª

‚úÖ Fix ‚Äî Install ArgoCD CRDs

Step 1 ‚Äî Download CRD manifest for v3.1.5

(Your images show version: ArgoCD v3.1.5)

Apply only the CRDs:

curl -L -o argocd-crds.yaml https://raw.githubusercontent.com/argoproj/argo-cd/v3.1.5/manifests/crds/crds.yaml
kubectl apply -f argocd-crds.yaml

OR if outbound internet not available, I will give you a CRD-only YAML (tell me if you want it).

‚∏ª

Step 2 ‚Äî Verify CRDs Installed

kubectl get crd | grep argoproj

You MUST see these:
	‚Ä¢	applications.argoproj.io
	‚Ä¢	appprojects.argoproj.io
	‚Ä¢	applicationsets.argoproj.io
	‚Ä¢	analysisruns.argoproj.io (if using Rollouts)
	‚Ä¢	rollouts.argoproj.io (if using Rollouts)

‚∏ª

Step 3 ‚Äî Recreate ArgoCD Namespace

If pods continue CrashLoop after CRDs applied:

kubectl delete po --all -n argocd

Or, safer:

kubectl rollout restart deployment -n argocd


‚∏ª

‚úÖ Why This Happened

Your uploaded YAML file contains ONLY these components:

‚úî ServiceAccounts
‚úî Roles & RoleBindings
‚úî ConfigMaps
‚úî Secrets
‚úî Services
‚úî Deployments

‚ùå NO CRDs present in the file (verified from your uploaded file)  Ôøº

Hence controllers cannot start because the API resources do not exist.

‚∏ª

‚≠ê Want me to generate a FULL WORKING ARGOCD v3.1.5 BUNDLE for you?

I can generate:
	‚Ä¢	CRDs YAML
	‚Ä¢	ArgoCD minimal HA YAML
	‚Ä¢	Or single-file full bundle with your custom image registry
	‚Ä¢	Or convert install.yaml to use your Harbor images

Just tell me:

Do you want the full ArgoCD v3.1.5 CRDs YAML or the complete installation YAML with Harbor images?
